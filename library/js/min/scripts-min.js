jQuery(document).ready(function($){var t={elementExists:function(t){return t.length>0?!0:!1}},i={settings:{trigger:$(".scrollto-link")},init:function(){this.bindUIActions()},bindUIActions:function(){this.settings.trigger.on("click",function(){return i.scrollToTarget($(this).data("target")),!1})},scrollToTarget:function(t){$("html,body").animate({scrollTop:$('a[name="'+t+'"]').offset().top},500)}};i.init();var s={settings:{required_element:$(".pg-design-single"),comp_link:$(".design-set-comp-link"),scroll_timer:0,sidebar:$(".col-sidebar"),sidebar_offset:0,sidebar_height:0,sidebar_margin:0,sidebar_margin_default:0,sidebar_padding:15,body_col:$(".col-body"),body_col_height:0,window_height:0,window_scrolltop:0},init:function(){t.elementExists(this.settings.required_element)&&(this.bindUIActions(),this.settings.sidebar_offset=this.settings.sidebar.offset().top,this.settings.sidebar_margin_default=parseInt(this.settings.sidebar.css("marginTop")),this.settings.sidebar_height=this.settings.sidebar.height(),this.settings.body_col_height=this.settings.body_col.height(),this.settings.window_height=$(window).height())},bindUIActions:function(){$(window).scroll(function(){clearTimeout(s.scroll_timer),s.scroll_timer=setTimeout(function(){s.positionSidebar()},250)})},matchLinkHeights:function(){this.settings.comp_link.height(this.getMaxLinkHeight())},getMaxLinkHeight:function(){var t=0;return this.settings.comp_link.each(function(){$(this).height()>t&&(t=$(this).height())}),t},positionSidebar:function(){this.settings.window_scrolltop=$(window).scrollTop(),this.settings.window_scrolltop>this.settings.sidebar_offset?this.settings.sidebar_height>this.settings.window_height?this.settings.sidebar_margin=this.settings.sidebar_margin_default:(this.settings.sidebar_margin=this.settings.window_scrolltop-this.settings.sidebar_offset+this.settings.sidebar_margin_default+this.settings.sidebar_padding,this.settings.sidebar_height+this.settings.sidebar_margin>this.settings.body_col_height&&(this.settings.sidebar_margin=this.settings.body_col_height-this.settings.sidebar_height)):this.settings.sidebar_margin=this.settings.sidebar_margin_default,this.settings.sidebar.stop().animate({marginTop:this.settings.sidebar_margin},250)}};s.init();var e={settings:{required_element:$(".pg-design-attachment"),header:$(".header-main"),project_comp_grid_trigger:$(".header-btn-comp-grid"),project_comp_grid:$(".header-project-comp-grid"),project_comp:$(".header-project-comp-grid li"),project_comp_first:$(".header-project-comp-grid li").eq(0),project_comp_meta:$(".header-project-comp-grid .comp-meta"),project_comp_grid_pos0:0,project_comp_grid_pos1:0,wrapper_width:$(".header-main .page-wrapper.main").width(),comp_width:0,comp_count:0,bx:{instance:{},slider:$(".header-project-comp-grid ul"),ctrl:{ctrl:$(".header-project-comp-grid-ctrl"),prev:$(".header-project-comp-grid-ctrl.ctrl-prev"),next:$(".header-project-comp-grid-ctrl.ctrl-next")},ctrl_width:0,options:{controls:!1,infiniteLoop:!1,minSlides:0,maxSlides:0,pager:!1,slideWidth:0}}},init:function(){t.elementExists(this.settings.required_element)&&(this.settings.comp_width=this.settings.project_comp_first.outerWidth(),this.settings.comp_count=this.settings.project_comp.length,this.bindUIActions(),this.setupDesignCompGrid(),this.bxInit())},bindUIActions:function(){this.settings.project_comp_grid_trigger.on("click",function(){e.toggleDesignCompGrid()}),this.settings.bx.ctrl.prev.on("click",function(){e.bxPrevSlide()}),this.settings.bx.ctrl.next.on("click",function(){e.bxNextSlide()})},setupDesignCompGrid:function(){this.settings.project_comp_grid_pos0=-(this.settings.project_comp_grid.outerHeight()-this.settings.header.height()),this.settings.project_comp_grid_pos1=this.settings.project_comp_grid_pos0+this.settings.project_comp_grid.height(),this.settings.project_comp_grid.css({top:this.settings.project_comp_grid_pos0}),this.settings.project_comp_meta.css({top:this.settings.project_comp_first.height()+9})},toggleDesignCompGrid:function(){this.settings.project_comp_grid_trigger.hasClass("closed")?(this.settings.project_comp_grid_trigger.removeClass("closed"),this.settings.project_comp_grid.stop().animate({top:this.settings.project_comp_grid_pos1},300)):(this.settings.project_comp_grid_trigger.addClass("closed"),this.settings.project_comp_grid.stop().animate({top:this.settings.project_comp_grid_pos0},300))},bxInit:function(){this.settings.comp_width*this.settings.comp_count>this.settings.wrapper_width&&(this.settings.bx.ctrl.ctrl.show(),this.settings.bx.ctrl_width=this.settings.bx.ctrl.prev.width(),this.settings.bx.options.slideWidth=this.settings.comp_width,this.settings.bx.options.minSlides=Math.floor((this.settings.wrapper_width-2*this.settings.bx.ctrl_width)/this.settings.comp_width),this.settings.bx.options.maxSlides=this.settings.bx.options.minSlides,this.settings.bx.instance=this.settings.bx.slider.bxSlider(this.settings.bx.options))},bxNextSlide:function(){this.settings.bx.instance.goToNextSlide()},bxPrevSlide:function(){this.settings.bx.instance.goToPrevSlide()}};e.init(),$(window).load(function(){t.elementExists(s.settings.required_element)&&s.matchLinkHeights()})});